# ── Application ──────────────────────────────────────
PORT=3000
WS_PORT=3001
SESSION_SECRET=change-me-to-a-random-64-char-string

# ── Networking ───────────────────────────────────────
# By default, the app port is published on the host (for self-hosting).
#
# If you use a platform that handles networking for you
# (Dokploy, Coolify, Portainer, etc.), uncomment the line
# below to DISABLE host port exposure entirely:
# COMPOSE_FILE=docker-compose.yml

# ── Database ─────────────────────────────────────────
# PostgreSQL is bundled in the stack — it works out of the box.
# Only uncomment and change DATABASE_URL if you want to use
# an external / hosted database (Neon, Supabase, Railway, etc.).
# DATABASE_URL=postgresql://user:password@your-host:5432/backslash

# ── Compilation ──────────────────────────────────────
MAX_CONCURRENT_BUILDS=5
COMPILE_TIMEOUT=120
COMPILE_MEMORY=1g
COMPILE_CPUS=1.5
STALE_BUILD_TTL_MINUTES=60
# Dedicated worker mode (recommended): keep this false.
# Set true only if you want the web process to execute compile jobs itself.
RUN_COMPILE_RUNNER_IN_WEB=false
WORKER_HEARTBEAT_KEY=compile:worker:heartbeat
WORKER_HEARTBEAT_MAX_AGE_MS=30000
WORKER_HEARTBEAT_INTERVAL_MS=5000
ASYNC_COMPILE_RESULT_TTL_MINUTES=60
ASYNC_COMPILE_MAX_CONCURRENT_BUILDS=5

# ── Auth ─────────────────────────────────────────────
DISABLE_SIGNUP=false

# Set to true if you're behind HTTPS (reverse proxy with TLS).
# Leave false for plain HTTP access (e.g. http://your-ip:3000).
SECURE_COOKIES=false

# ── WebSocket ────────────────────────────────────────
# Override the WebSocket server URL the frontend connects to.
# By default, the frontend auto-detects: same hostname, port 3001.
# For reverse-proxy setups, set this to your proxied WS URL:
# NEXT_PUBLIC_WS_URL=https://your-domain.com/ws
